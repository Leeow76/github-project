(this["webpackJsonpgithub-project"]=this["webpackJsonpgithub-project"]||[]).push([[0],{13:function(e,t,r){e.exports={back:"UserPage_back__1AUz6",title:"UserPage_title__AvzFs",user:"UserPage_user__2nV21",info:"UserPage_info__3pfa_",name:"UserPage_name__2KRp5",image:"UserPage_image__2u9DM",orgs:"UserPage_orgs__1tO0f",orgList:"UserPage_orgList__1CgXG",org:"UserPage_org__3NTxU",repos:"UserPage_repos__3WQwU",repo:"UserPage_repo__3zwOR"}},18:function(e,t,r){e.exports={item:"User_item__Pu7Gx",itemImage:"User_itemImage__1zfU4",itemInfo:"User_itemInfo__1s84b",itemRepos:"User_itemRepos__1PHyW",itemRepo:"User_itemRepo__3DAhw"}},21:function(e,t,r){e.exports={title:"UserListPage_title__XF6iv",toolbar:"UserListPage_toolbar__3G7ac"}},22:function(e,t,r){e.exports={viewModes:"ViewModes_viewModes__31sAX",modeButton:"ViewModes_modeButton__1r-0A",modeButton__active:"ViewModes_modeButton__active__uj8ta"}},23:function(e,t,r){e.exports={field:"UserSearch_field__3_nb6",input:"UserSearch_input__lSKu_",input__clearable:"UserSearch_input__clearable__1r55B",clear:"UserSearch_clear__3u6kt",viewModes:"UserSearch_viewModes__1Qs_N"}},30:function(e,t,r){e.exports={list:"UserList_list__1vdAN",listMode:"UserList_listMode__3lEJj",gridMode:"UserList_gridMode__1WYLT"}},31:function(e,t,r){e.exports={recentSearches:"RecentSearches_recentSearches__pU0lf",recentSearch:"RecentSearches_recentSearch__12bE4"}},43:function(e,t,r){},44:function(e,t,r){"use strict";r.r(t);var s=r(24),n=r.n(s),a=r(3),c=r(14),o=r(1),i=r(15),u=r(6),l=r(4),d=r.n(l),h=r(10),j="FETCH_USER_SUCCESS",b="FETCH_USER_ERROR",p="FETCH_USER_LOADING",_="FETCH_USERPAGE_REPOS",f="FETCH_USERPAGE_ORGS",m=function(){if("REACT_APP_GITHUB_PERSONAL_ACCESS_TOKEN"in Object({NODE_ENV:"production",PUBLIC_URL:"/starter-project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GITHUB_PERSONAL_ACCESS_TOKEN:"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"}))return"Token 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";console.log('Limited to 60 requests because no personal access token ("REACT_APP_GITHUB_PERSONAL_ACCESS_TOKEN") set in .env')},g=function(e,t){return function(){var r=Object(h.a)(d.a.mark((function r(s){var n,a;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n={method:"GET",headers:{Authorization:m()}},r.prev=1,r.next=4,fetch("https://api.github.com/users/".concat(e,"/repos?per_page=3&page=1"),n);case 4:return r.next=6,r.sent.json();case 6:if("Not Found"===(a=r.sent).message){r.next=12;break}s({type:"userList"===t?"FETCH_USERLIST_REPOS":"userPage"===t?_:null,user:e,repos:a}),r.next=13;break;case 12:throw new Error(a.message);case 13:r.next=18;break;case 15:r.prev=15,r.t0=r.catch(1),console.log(r.t0);case 18:case"end":return r.stop()}}),r,null,[[1,15]])})));return function(e){return r.apply(this,arguments)}}()},O=function(e){return function(t){t({type:j,user:e})}},x=function(e){return function(t){t({type:b,error:e})}},v=function(e){return function(){var t=Object(h.a)(d.a.mark((function t(r){var s,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s={method:"GET",headers:{Authorization:m()}},t.prev=1,t.next=4,fetch("https://api.github.com/users/".concat(e,"/orgs"),s);case 4:return t.next=6,t.sent.json();case 6:if("Not Found"===(n=t.sent).message){t.next=11;break}r({type:f,user:e,orgs:n}),t.next=12;break;case 11:throw new Error(n.message);case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(1),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e){return t.apply(this,arguments)}}()},S=r(13),N=r.n(S),E=function(e){var t=Object(o.useState)(e),r=Object(c.a)(t,2),s=r[0],n=r[1];return Object(o.useEffect)((function(){document.title=s}),[s]),[n]},w=r(0);function U(){var e=E(),t=Object(c.a)(e,1)[0],r=Object(u.c)((function(e){return e.userPageReducer.userPageUser})),s=Object(u.c)((function(e){return e.userPageReducer.userError})),n=Object(u.c)((function(e){return e.userPageReducer.userStatus})),l=Object(u.b)(),j=Object(a.f)().pathname.replace(/^\/+/,"");Object(o.useEffect)((function(){l(function(e){return function(){var t=Object(h.a)(d.a.mark((function t(r){var s,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r((function(e){e({type:p})})),s={method:"GET",headers:{Authorization:m()}},t.prev=2,t.next=5,fetch("https://api.github.com/users/".concat(e),s);case 5:return t.next=7,t.sent.json();case 7:if("Not Found"===(n=t.sent).message){t.next=14;break}r(O(n)),r(g(e,"userPage")),r(v(e)),t.next=15;break;case 14:throw new Error(n.message);case 15:t.next=21;break;case 17:t.prev=17,t.t0=t.catch(2),console.log(t.t0),r(x(t.t0));case 21:case"end":return t.stop()}}),t,null,[[2,17]])})));return function(e){return t.apply(this,arguments)}}()}(j)),t('User "'.concat(j,'"'))}),[l,j,t]);var b=void 0;r&&r.repos?0===r.repos.length?b=Object(w.jsx)("p",{children:"No repos to display"}):r.repos.length>0&&(b=r.repos.map((function(e){return Object(w.jsx)("p",{className:"".concat(N.a.repo," textSmall"),children:e.name},e.id)}))):b=Object(w.jsx)("p",{children:"LOADING..."});var _=void 0;return r&&r.orgs?0===r.orgs.length?_=Object(w.jsx)("p",{children:"No organizations to display"}):r.orgs.length>0&&(_=r.orgs.map((function(e){return Object(w.jsxs)("a",{href:"https://github.com/".concat(e.login),target:"_blank",rel:"noreferrer",className:"".concat(N.a.org," textSmall"),children:[Object(w.jsx)("img",{src:e.avatar_url,alt:e.login}),e.login]},e.id)}))):_=Object(w.jsx)("p",{children:"LOADING..."}),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(i.b,{to:"/",className:"button button_secondary button_iconAndText ".concat(N.a.back),children:[Object(w.jsx)("span",{className:"material-icons-round",children:"chevron_left"}),Object(w.jsx)("span",{children:"Back"})]}),"loading"===n&&Object(w.jsx)("div",{className:"message__neutral",children:"LOADING..."}),"failed"===n&&Object(w.jsx)("div",{className:"message__neutral",children:s}),"success"===n&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h1",{className:N.a.title,children:r.login}),Object(w.jsxs)("div",{className:N.a.user,children:[Object(w.jsx)("img",{className:N.a.image,src:r.avatar_url,title:r.login,alt:r.login}),Object(w.jsxs)("div",{className:N.a.info,children:[Object(w.jsx)("h2",{className:N.a.name,children:Object(w.jsx)("a",{href:r.html_url,rel:"noreferrer",target:"_blank",children:r.name?r.name:r.login})}),Object(w.jsx)("p",{children:r.type}),Object(w.jsxs)("div",{className:N.a.repos,children:[Object(w.jsx)("h3",{children:"User repositories"}),b]}),Object(w.jsxs)("div",{className:N.a.orgs,children:[Object(w.jsx)("h3",{children:"User organizations"}),Object(w.jsx)("div",{className:N.a.orgList,children:_})]})]})]})]})]})}var P=r(17),R=function(){var e=Object(h.a)(d.a.mark((function e(t,r){var s,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={method:"GET",headers:{Authorization:m()}},e.prev=1,e.next=4,fetch("https://api.github.com/search/users?"+new URLSearchParams({q:t,sort:r,type:"Users",per_page:"10",page:"1"}).toString(),s);case 4:return e.next=6,e.sent.json();case 6:if(!(n=e.sent).items){e.next=12;break}return a=n.items,e.abrupt("return",a);case 12:return e.abrupt("return",[]);case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(1),new Error("Could not find users");case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t,r){return e.apply(this,arguments)}}(),A=function(){var e=Object(h.a)(d.a.mark((function e(t){var r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"GET",headers:{Authorization:m()}},e.prev=1,e.next=4,fetch("https://api.github.com/users/".concat(t,"/repos?per_page=3&page=1"),r);case 4:return e.next=6,e.sent.json();case 6:if("Not Found"===(s=e.sent).message){e.next=11;break}return e.abrupt("return",{user:t,repos:s});case 11:return e.abrupt("return",{user:t,repos:null});case 12:e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(1),new Error("Could not fetch user repositories");case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}(),L=Object(P.b)("userListPageSlice/fetchUsers",function(){var e=Object(h.a)(d.a.mark((function e(t,r){var s,n,a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=r.dispatch,n=t.query,a=t.sort,e.next=4,R(n,a);case 4:return(c=e.sent).length>0&&c.forEach((function(e){s(k({user:e.login}))})),e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),k=Object(P.b)("userListPageSlice/fetchUserRepos",function(){var e=Object(h.a)(d.a.mark((function e(t){var r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.user,e.next=3,A(r);case 3:return s=e.sent,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),y=Object(P.c)({name:"userListPageSlice",initialState:{users:[],usersError:null,usersStatus:"idle",viewMode:"listMode",latestSearch:""},reducers:{setViewMode:function(e,t){e.viewMode=t.payload},setLatestSearch:function(e,t){e.latestSearch=t.payload},setSearchValue:function(e,t){e.latestSearch=t.payload}},extraReducers:function(e){e.addCase(L.pending,(function(e){e.usersStatus="loading",e.users=[]})),e.addCase(L.fulfilled,(function(e,t){e.usersStatus="success",e.users=t.payload})),e.addCase(L.rejected,(function(e){e.usersStatus="failed",e.users=[]})),e.addCase(k.fulfilled,(function(e,t){var r,s=null===(r=e.users)||void 0===r?void 0:r.find((function(e){return e.login===t.payload.user}));s&&(s.repos=t.payload.repos)}))}}),C=y.actions,M=C.setViewMode,T=C.setLatestSearch,I=(C.setSearchValue,y.reducer),F=r(21),G=r.n(F),B=r(18),H=r.n(B);function D(e){var t=e.user,r=t.login,s=t.avatar_url,n=t.type,a=t.repos,c=void 0;return c=a?0===a.length?Object(w.jsx)("p",{children:"No repos to display"}):a.map((function(e,t){return Object(w.jsx)("span",{className:H.a.itemRepo+" textSmall",children:e.name},t)})):Object(w.jsx)("p",{children:"LOADING..."}),Object(w.jsxs)("li",{className:H.a.item,children:[Object(w.jsx)("span",{className:H.a.itemImage,children:Object(w.jsx)(i.b,{to:r,children:Object(w.jsx)("img",{src:s,title:r,alt:r})})}),Object(w.jsxs)("div",{className:H.a.itemInfo,children:[Object(w.jsx)("h3",{children:Object(w.jsx)(i.b,{to:r,children:r})}),Object(w.jsx)("p",{children:n})]}),Object(w.jsxs)("div",{className:H.a.itemRepos,children:[Object(w.jsx)("h3",{children:"User repositories"}),c]})]})}var z=r(30),V=r.n(z);function K(e){var t=e.users,r=e.usersStatus,s=e.usersError,n=e.viewMode,a=null;return"success"===r&&t&&(a=t.map((function(e){return Object(w.jsx)(D,{user:e},e.id)}))),Object(w.jsxs)("ul",{className:"".concat(V.a[n]," ").concat(V.a.list),children:["success"===r&&t.length>0&&Object(w.jsx)(w.Fragment,{children:a}),"success"===r&&0===t.length&&Object(w.jsx)("div",{className:"message__neutral",children:"No users found"}),"loading"===r&&Object(w.jsx)("div",{className:"message__neutral",children:"LOADING..."}),"failed"===r&&Object(w.jsx)("div",{className:"message__neutral",children:s})]})}var J=r(22),q=r.n(J);function W(e){var t=e.viewMode,r=e.setViewMode,s="modeButton_gridMode ",n="modeButton_listMode ",a="button ".concat(q.a.modeButton);"listMode"===t?(s+=a,n+="".concat(a," ").concat(q.a.modeButton__active)):(s+="".concat(a," ").concat(q.a.modeButton__active),n+=a);var c=Object(w.jsxs)("div",{className:q.a.viewModes,children:[Object(w.jsx)("button",{onClick:function(){return"gridMode"===t?r("listMode"):null},className:n,children:Object(w.jsx)("span",{className:"material-icons-round",children:"view_stream"})}),Object(w.jsx)("button",{onClick:function(){return"listMode"===t?r("gridMode"):null},className:s,children:Object(w.jsx)("span",{className:"material-icons-round",children:"grid_view"})})]});return Object(w.jsx)(w.Fragment,{children:c})}var X=r(31),Y=r.n(X);function Q(e){var t=e.search,r=e.latestSearch,s=Object(o.useState)(localStorage.getItem("recentSearches")),n=Object(c.a)(s,2),a=n[0],i=n[1];Object(o.useEffect)((function(){i(localStorage.getItem("recentSearches"))}),[r]);var u=null,l=null;if(a){var d=JSON.parse(a);l=d.length;var h=d.map((function(e,r){return Object(w.jsx)("span",{onClick:function(){return t(e)},className:"".concat(Y.a.recentSearch," textSmall"),children:e},r)}));u=Object(w.jsxs)("div",{className:Y.a.recentSearches,children:[Object(w.jsx)("h4",{children:1===l?"Last search":"Last ".concat(l," searches")}),h]})}return Object(w.jsx)(w.Fragment,{children:u})}var Z=r(23),$=r.n(Z);function ee(e){var t=e.search,r=e.latestSearch,s=Object(o.useState)(""),n=Object(c.a)(s,2),a=n[0],i=n[1],u=function(e){""===e.trim()?t("followers:>=0","followers",!1):t(e,"best_match")},l=null;return""!==a&&(l=Object(w.jsx)("button",{className:"button button_formButton button_transparent ".concat($.a.clear),onClick:function(){return i("")},children:Object(w.jsx)("span",{className:"material-icons",children:"close"})})),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("div",{className:$.a.field+" textField textField__withButton",children:[Object(w.jsx)("input",{className:""!==a?$.a.input__clearable:$.a.input,type:"text",placeholder:"Search users from GitHub",onChange:function(e){return i(e.target.value)},value:a,onKeyDown:function(e){"Enter"===e.code&&a&&(e.preventDefault(),u(a))}}),l,Object(w.jsx)("button",{disabled:a===r||""===r&&""===a,className:"button button_formButton button_primary",onClick:function(){return u(a)},children:Object(w.jsx)("span",{className:"material-icons",children:"search"})})]}),Object(w.jsx)(Q,{latestSearch:r,search:function(e){return u(e)}})]})}function te(){var e=Object(u.c)((function(e){return e.userListPageReducer.users})),t=Object(u.c)((function(e){return e.userListPageReducer.usersError})),r=Object(u.c)((function(e){return e.userListPageReducer.usersStatus})),s=Object(u.c)((function(e){return e.userListPageReducer.viewMode})),n=Object(u.c)((function(e){return e.userListPageReducer.latestSearch})),a="Most followed GitHub users",i='Search results for "'.concat(n,'"'),l=E(n?i:a),d=Object(c.a)(l,1)[0],h=Object(u.b)();Object(o.useEffect)((function(){e.length<1&&(d(a),h(L({query:"followers:>=0",sort:"followers"})))}),[]);var j=function(e,t,r){h(L({query:e,sort:t})),r?(h(T(e)),b(e),d('Search results for "'.concat(e,'"'))):(h(T("")),d(a))},b=function(e){var t=[];null!==localStorage.getItem("recentSearches")&&(t=JSON.parse(localStorage.getItem("recentSearches")||"")),t.includes(e)||(t.unshift(e),t.length>3&&t.pop()),localStorage.setItem("recentSearches",JSON.stringify(t))},p=null;return p=n?Object(w.jsx)("h1",{className:G.a.title,children:i}):Object(w.jsx)("h1",{className:G.a.title,children:a}),Object(w.jsxs)("div",{className:G.a.wrapper,children:[Object(w.jsx)(ee,{search:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return j(e,t,r)},latestSearch:n}),Object(w.jsxs)("div",{className:G.a.toolbar,children:[p,Object(w.jsx)(W,{viewMode:s,setViewMode:function(e){return h(M(e))}})]}),Object(w.jsx)(K,{users:e,usersStatus:r,usersError:t,viewMode:s})]})}r(43);var re=function(){return Object(w.jsx)("div",{className:"container",children:Object(w.jsxs)(a.c,{children:[Object(w.jsx)(a.a,{exact:!0,path:"/",component:te},"home"),Object(w.jsx)(a.a,{path:"/:user",component:U},"user")]})})},se=r(20),ne=r(11),ae=r(9),ce={userPageUser:null,userError:null,userStatus:"idle"},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(ae.a)(Object(ae.a)({},e),{},{userError:null,userStatus:"loading"});case j:return Object(ae.a)(Object(ae.a)({},e),{},{userStatus:"success",userPageUser:t.user});case b:return Object(ae.a)(Object(ae.a)({},e),{},{userError:t.error.message,userStatus:"failed"});case _:var r=Object(ae.a)({},e.userPageUser);return r.repos=t.repos,Object(ae.a)(Object(ae.a)({},e),{},{userPageUser:r});case f:var s=Object(ae.a)({},e.userPageUser);return s.orgs=t.orgs,Object(ae.a)(Object(ae.a)({},e),{},{userPageUser:s})}return e},ie=Object(ne.b)({userListPageReducer:I,userPageReducer:oe}),ue=Object(P.a)({reducer:ie,middleware:function(e){return e().concat(se.a)},devTools:!1});n.a.render(Object(w.jsx)(i.a,{children:Object(w.jsx)(u.a,{store:ue,children:Object(w.jsx)(re,{})})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.c430a44f.chunk.js.map